# HAProxy configuration for development/testing
global
    daemon
    log stdout local0
    stats socket /var/run/haproxy/admin.sock mode 660 level admin
    stats timeout 30s

defaults
    mode http
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms
    log global

# Data Plane API configuration
frontend dataplane-api
    bind *:5555
    mode http
    default_backend dataplane-api-backend

backend dataplane-api-backend
    mode http
    option httpchk GET /v3/info
    server dataplane-api 127.0.0.1:5556 check

# Stats page (optional)
frontend stats
    bind *:8404
    mode http
    stats enable
    stats uri /stats
    stats refresh 30s
    stats admin if TRUE